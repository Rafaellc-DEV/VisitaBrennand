<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(title, content)">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${title}">Visita Brennand - Admin</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>

    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>

<body>
<div class="app">

    <aside class="sidebar d-none d-lg-flex flex-column">
        <div class="brand">
            <h1>VISITA<br/>BRENNAND</h1>
        </div>
        <div class="px-3 pt-3">
            <div class="menu-section">Principal</div>
            <nav class="nav flex-column">

                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/avisos}"
                       th:classappend="${currentUri != null and currentUri.contains('/avisos')} ? ' active' : ''">
                        <i class="bi bi-bell"></i> Avisos
                    </a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/horarios}"
                       th:classappend="${currentUri != null and currentUri.contains('/horarios')} ? ' active' : ''">
                        <i class="bi bi-clock"></i> Horários
                    </a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/regras}"
                       th:classappend="${currentUri != null and currentUri.contains('/regras')} ? ' active' : ''">
                        <i class="bi bi-journal-check"></i> Regras
                    </a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/como-chegar}"
                       th:classappend="${currentUri != null and currentUri.contains('/como-chegar')} ? ' active' : ''">
                        <i class="bi bi-geo-alt"></i> Como Chegar
                    </a>
                </div>
            </nav>
            <div class="menu-section">Gestão</div>
            <nav class="nav flex-column mb-4">
                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/feedbacks}"
                       th:classappend="${currentUri != null and currentUri.contains('/feedbacks')} ? ' active' : ''">
                        <i class="bi bi-chat-square-heart"></i> Feedbacks
                    </a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" th:href="@{/admin/relatorios}"
                       th:classappend="${currentUri != null and currentUri.contains('/relatorios')} ? ' active' : ''">
                        <i class="bi bi-graph-up"></i> Relatórios
                    </a>
                </div>
            </nav>
        </div>
        <div class="sidebar-footer">
            <div class="user-card mb-2">
                <div class="avatar">A</div>
                <div class="small">
                    <div class="fw-semibold">Administrador</div>
                    <div class="text-muted">@admin</div>
                </div>
            </div>
            <a class="btn btn-outline-secondary w-100" th:href="@{/logout}"><i class="bi bi-box-arrow-left me-1"></i> Sair</a>
        </div>
    </aside>

    <main class="d-flex flex-column">
        <div class="topbar">
            <button class="btn d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu"><i class="bi bi-list fs-3"></i></button>
            <h2 class="title d-none d-lg-block" th:text="${title}">Painel</h2>
            <a class="btn btn-sm btn-outline-secondary" th:href="@{/}"><i class="bi bi-house me-1"></i> Ver site</a>
        </div>

        <section class="content" th:replace="${content}">
            <p>Carregando...</p>
        </section>
    </main>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
    <div class="offcanvas-header border-bottom">
        <h5 class="offcanvas-title">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action" th:href="@{/admin/avisos}">Avisos</a>
            <a class="list-group-item list-group-item-action" th:href="@{/admin/horarios}">Horários</a>
            <a class="list-group-item list-group-item-action" th:href="@{/admin/regras}">Regras</a>
            <a class="list-group-item list-group-item-action" th:href="@{/admin/como-chegar}">Como Chegar</a>
            <a class="list-group-item list-group-item-action" th:href="@{/admin/feedbacks}">Feedbacks</a>
            <a class="list-group-item list-group-item-action" th:href="@{/admin/relatorios}">Relatórios</a>
            <a class="list-group-item list-group-item-action text-danger" th:href="@{/logout}">Sair</a>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>